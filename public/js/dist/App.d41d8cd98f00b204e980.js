!function(e){function t(t){for(var n,c,i=t[0],l=t[1],s=t[2],p=0,f=[];p<i.length;p++)c=i[p],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&f.push(a[c][0]),a[c]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);for(u&&u(t);f.length;)f.shift()();return o.push.apply(o,s||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,i=1;i<r.length;i++){var l=r[i];0!==a[l]&&(n=!1)}n&&(o.splice(t--,1),e=c(c.s=r[0]))}return e}var n={},a={0:0},o=[];function c(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,c),r.l=!0,r.exports}c.m=e,c.c=n,c.d=function(e,t,r){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(r,n,function(t){return e[t]}.bind(null,n));return r},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="";var i=window.webpackJsonp=window.webpackJsonp||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var s=0;s<i.length;s++)t(i[s]);var u=l;o.push([30,2]),r()}({30:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(15),c=r.n(o),i=r(6);var l=e=>a.a.createElement("nav",{className:"flex flex-row-reverse justify-center bg-blue-700 text-yellow-400 space-x-4 space-x-reverse p-4"},e.routes.filter(e=>!e.path.includes(":")).map(e=>{let{key:t,path:r}=e;return a.a.createElement(i.b,{key:t,to:r},t)})),s=r(1);r(8);function u(e){return a.a.createElement("div",{className:"flex flex-wrap bg-gray-200 justify-center h-auto"},e.movie.Search.map(t=>a.a.createElement("div",{key:t.imdbID,className:"w-full sm:w-1/2 md:w-1/3 lg:w-1/4 xl:w-1/6 p-2 bg-white border-2 border-black rounded-md ml-1 flex flex-col h-full"},a.a.createElement("img",{className:"rounded w-full flex-grow object-cover align-middle",src:t.Poster,alt:"Movie poster"}),a.a.createElement("h3",{className:"text-xl my-2"},t.Title),a.a.createElement("h4",null,"Year Released: ",t.Year),a.a.createElement("button",{onClick:()=>e.handleSubmitFavorite(t),className:"border border-gray-500 p-2 transition duration-500 ease-in-out hover:bg-blue-700 hover:text-yellow-400 transform hover:-translate-y-1 hover:scale-110 block mt-auto"},"Add to Favorites"))))}function p(e,t,r,n,a,o,c){try{var i=e[o](c),l=i.value}catch(e){return void r(e)}i.done?t(l):Promise.resolve(l).then(n,a)}function f(e,t,r,n,a,o,c){try{var i=e[o](c),l=i.value}catch(e){return void r(e)}i.done?t(l):Promise.resolve(l).then(n,a)}function m(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function c(e){f(o,n,a,c,i,"next",e)}function i(e){f(o,n,a,c,i,"throw",e)}c(void 0)}))}}var d={apiKey:"843f9512"};function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e,t,r,n,a,o,c){try{var i=e[o](c),l=i.value}catch(e){return void r(e)}i.done?t(l):Promise.resolve(l).then(n,a)}function g(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function c(e){b(o,n,a,c,i,"next",e)}function i(e){b(o,n,a,c,i,"throw",e)}c(void 0)}))}}function w(e,t,r,n,a,o,c){try{var i=e[o](c),l=i.value}catch(e){return void r(e)}i.done?t(l):Promise.resolve(l).then(n,a)}var E=[{Component:function(e){const[t,r]=Object(n.useState)({Rating:""}),o=Object(n.useRef)(null),c=function(){var t,n=(t=function*(t){t.preventDefault();try{const t=yield fetch("/api/favorites/".concat(e.match.params.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({Rating:o.current.value})}),n=yield t.json();r(n)}catch(e){console.error(e)}finally{window.location.assign("/favorites")}},function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function c(e){p(o,n,a,c,i,"next",e)}function i(e){p(o,n,a,c,i,"throw",e)}c(void 0)}))});return function(e){return n.apply(this,arguments)}}();return a.a.createElement("div",null,a.a.createElement("form",{style:{display:"flex",flexDirection:"column"},onSubmit:c},a.a.createElement("label",null,a.a.createElement("input",{type:"text",ref:o,defaultValue:t.Rating})),a.a.createElement("input",{type:"submit",value:"Update Favorite"})))},key:"UpdateFavorite",path:"/:id/edit"},{Component:function(e){const[t,r]=Object(n.useState)([]),[o,c]=Object(n.useState)(!1);Object(n.useEffect)(()=>{m((function*(){try{const e=yield fetch("/api/favorites/"),t=yield e.json();console.log(t),r(t)}catch(e){console.error(e)}}))()},[]);const l=function(){var e=m((function*(e){try{const t=yield fetch("/api/favorites/".concat(e._id),{method:"DELETE",headers:{"Content-Type":"application/json"}});yield t.json();c(!o)}catch(e){console.error(e)}finally{window.location.assign("/favorites")}}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement("h1",{className:"text-4xl text-center p-2"},"Favorite Movies"),a.a.createElement("div",{className:"flex flex-wrap justify-center bg-gray-200 -mx-2 mt-6"},t.map(e=>a.a.createElement("div",{key:e._id,className:"w-full sm:w-1/2 md:w-1/3 lg:w-1/4 xl:w-1/6 p-2 m-1 bg-white border border-gray-500 rounded-md"},a.a.createElement("img",{src:e.Poster,className:"rounded h-2/3 w-full object-cover align-middle"}),a.a.createElement(i.b,{to:"/".concat(e._id)},a.a.createElement("h3",{className:"text-xl my-2"},e.Title)),a.a.createElement("h4",null,"Rating: ",e.Rating," Stars"),a.a.createElement("button",{onClick:()=>l(e),className:"border border-gray-500 p-2 mr-2 mt-1"},"Delete"),a.a.createElement(i.b,{to:"/".concat(e._id,"/edit")},a.a.createElement("button",{className:"border border-gray-500 p-2 mt-1"},"Rate It!"))))))},key:"Favorites",path:"/favorites"},{Component:function(e){const[t,r]=Object(n.useState)({});return Object(n.useEffect)(()=>{var t;(t=function*(){try{const t=yield fetch("/api/favorites/".concat(e.match.params.id)),n=yield t.json();r(n)}catch(e){console.error(e)}},function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function c(e){w(o,n,a,c,i,"next",e)}function i(e){w(o,n,a,c,i,"throw",e)}c(void 0)}))})()},[]),a.a.createElement(a.a.Fragment,null,a.a.createElement("h1",{className:"page-title"},t.Title),a.a.createElement("div",{className:"grid-wrapper show-page-grid"},a.a.createElement("div",{className:"grid-item show-page-item"},a.a.createElement("img",{src:t.Poster}),a.a.createElement("h4",null,"Year Released: ",t.Year),a.a.createElement("h4",null,"Rating: ",t.Rating," Stars"))))},key:"MovieShowPage",path:"/:id"},{Component:function(e){const[t,r]=Object(n.useState)({}),[o,c]=Object(n.useState)([]),[i,l]=Object(n.useState)({baseURL:"https://www.omdbapi.com/?",apiKey:"apikey="+d.apiKey,option:"&s=",title:"",searchURL:""});Object(n.useEffect)(()=>{g((function*(){if(i.searchURL)try{const e=yield fetch(i.searchURL),t=yield e.json();yield r(t),console.log(t),console.log(t.Search[0].Title)}catch(e){console.error(e)}finally{l({baseURL:"https://www.omdbapi.com/?",apiKey:"apikey="+d.apiKey,option:"&s=",title:"",searchURL:""})}}))()},[i]);const s=function(){var e=g((function*(e){const t=e.Title,r=e.Year,n=e.Poster,a=e.imdbID,i=e.Rating;try{const e=yield fetch("/api/favorites",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({Title:t,Year:r,Poster:n,imdbID:a,Rating:i})}),l=yield e.json();c([...o,l])}catch(e){console.error(e)}}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",{className:"p-3"},a.a.createElement("h1",{className:"text-4xl text-center"},"Ryan's Movie Search App"),a.a.createElement("form",{className:"text-center mt-8",onSubmit:e=>{e.preventDefault(),l(v(v({},i),{},{searchURL:i.baseURL+i.apiKey+i.option+i.title}))}},a.a.createElement("input",{id:"title",type:"text",value:i.title,onChange:e=>{l(v(v({},i),{[e.target.id]:e.target.value}))},className:"border border-gray-500 p-1 mr-1 focus:ring-2 focus:ring-blue-600"}),a.a.createElement("input",{type:"submit",value:"Find Movies",className:"p-1 border border-gray-500"})),a.a.createElement("div",null,Object.keys(t).length?a.a.createElement(u,{movie:t,handleSubmitFavorite:s}):""))},key:"Home",path:"/"}];function j(){return(j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var O=e=>a.a.createElement(i.a,null,a.a.createElement(l,{routes:E}),a.a.createElement(s.c,null,E.map(e=>{let{Component:t,key:r,path:n}=e;return a.a.createElement(s.a,{key:r,path:n,component:e=>a.a.createElement(t,j({page:r},e))})})));const x=document.getElementById("app");c.a.render(a.a.createElement(O,null),x)}});